import { readdir, open } from 'fs/promises';
import { basename, normalize } from 'path';
import { useProgressive } from 'react-seq';
import { useFocus, Box, Text } from 'ink';
import MulticolumnSelectInput from "./MulticolumnSelectInput.mjs";
import InkSpinner from 'ink-spinner';
import { jsx as _jsx } from "react/jsx-runtime";
import { jsxs as _jsxs } from "react/jsx-runtime";
const {
  default: Spinner
} = InkSpinner;
export default function FileList({
  folder = '.',
  selected = '',
  onFileSelect,
  onFolderSelect
}) {
  return useProgressive(async ({
    fallback,
    type,
    usable,
    defer
  }) => {
    fallback( /*#__PURE__*/_jsx(LoadingScreen, {}));
    type(FileListUI);
    usable(5);
    defer(100);
    return {
      folders: findSubfolder(folder),
      files: findAnsiFiles(folder),
      selected,
      onFileSelect,
      onFolderSelect
    };
  }, [folder]);
}

// typical ANSI files are 79x24
const width = 81;
const height = 26;
const borderStyle = 'round';
function FileListUI({
  folders = [],
  files = [],
  selected,
  onFileSelect,
  onFolderSelect
}) {
  const {
    isFocused
  } = useFocus({
    id: 'main',
    autoFocus: true
  });
  const items = [];
  for (const folder of folders) {
    items.push({
      label: '\u{1F5C0} ' + basename(folder),
      value: folder,
      type: 'folder'
    });
  }
  for (const file of files) {
    items.push({
      label: '\u{1F5CF} ' + basename(file),
      value: file,
      type: 'file'
    });
  }
  // ensure that columns are wide enough for the longest filename
  const maxWidth = items.reduce((m, i) => m = Math.max(m, i.label.length), 0);
  const columnCount = Math.max(1, Math.floor(80 / (maxWidth + 2)));
  const limit = height - 2;
  const initialIndex = Math.max(0, items.findIndex(i => i.value === selected));
  const borderColor = isFocused ? 'blue' : undefined;
  const onSelect = ({
    value,
    type
  }) => {
    if (type === 'folder') {
      onFolderSelect?.(value);
    } else if (type === 'file') {
      onFileSelect?.(value);
    }
  };
  return /*#__PURE__*/_jsx(Box, {
    borderStyle,
    borderColor,
    width,
    children: /*#__PURE__*/_jsx(MulticolumnSelectInput, {
      items,
      limit,
      columnCount,
      isFocused,
      initialIndex,
      onSelect
    })
  });
}
export function LoadingScreen() {
  const alignItems = 'center';
  const justifyContent = 'center';
  return /*#__PURE__*/_jsx(Box, {
    borderStyle,
    width,
    height,
    alignItems,
    justifyContent,
    children: /*#__PURE__*/_jsxs(Text, {
      children: [" ", /*#__PURE__*/_jsx(Spinner, {}), " Loading"]
    })
  });
}
async function* findSubfolder(folder) {
  const list = await readdir(folder, {
    withFileTypes: true
  });
  yield normalize(`${folder}/..`);
  for (const entry of list) {
    if (entry.isDirectory() && !entry.name.startsWith('.')) {
      yield `${folder}/${entry.name}`;
    }
  }
}
async function* findAnsiFiles(folder) {
  const list = await readdir(folder, {
    withFileTypes: true
  });
  for (const entry of list) {
    if (entry.isFile() && !entry.name.startsWith('.')) {
      const path = `${folder}/${entry.name}`;
      if (await isAnsiFile(path)) {
        yield path;
      }
    }
  }
}
export async function isAnsiFile(path) {
  let file;
  try {
    file = await open(path);
    const buffer = Buffer.alloc(1024);
    const {
      bytesRead
    } = await file.read(buffer, 0, buffer.length);
    const array = new Uint8Array(buffer, 0, bytesRead);
    for (let i = 0; i < array.length - 1; i++) {
      if (array[i] === 0x1B && array[i + 1] === 0x5B) {
        return true;
      }
    }
  } catch (err) {} finally {
    await file?.close();
  }
  return false;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWFkZGlyIiwib3BlbiIsImJhc2VuYW1lIiwibm9ybWFsaXplIiwidXNlUHJvZ3Jlc3NpdmUiLCJ1c2VGb2N1cyIsIkJveCIsIlRleHQiLCJNdWx0aWNvbHVtblNlbGVjdElucHV0IiwiSW5rU3Bpbm5lciIsImRlZmF1bHQiLCJTcGlubmVyIiwiRmlsZUxpc3QiLCJmb2xkZXIiLCJzZWxlY3RlZCIsIm9uRmlsZVNlbGVjdCIsIm9uRm9sZGVyU2VsZWN0IiwiZmFsbGJhY2siLCJ0eXBlIiwidXNhYmxlIiwiZGVmZXIiLCJGaWxlTGlzdFVJIiwiZm9sZGVycyIsImZpbmRTdWJmb2xkZXIiLCJmaWxlcyIsImZpbmRBbnNpRmlsZXMiLCJ3aWR0aCIsImhlaWdodCIsImJvcmRlclN0eWxlIiwiaXNGb2N1c2VkIiwiaWQiLCJhdXRvRm9jdXMiLCJpdGVtcyIsInB1c2giLCJsYWJlbCIsInZhbHVlIiwiZmlsZSIsIm1heFdpZHRoIiwicmVkdWNlIiwibSIsImkiLCJNYXRoIiwibWF4IiwibGVuZ3RoIiwiY29sdW1uQ291bnQiLCJmbG9vciIsImxpbWl0IiwiaW5pdGlhbEluZGV4IiwiZmluZEluZGV4IiwiYm9yZGVyQ29sb3IiLCJ1bmRlZmluZWQiLCJvblNlbGVjdCIsIkxvYWRpbmdTY3JlZW4iLCJhbGlnbkl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJsaXN0Iiwid2l0aEZpbGVUeXBlcyIsImVudHJ5IiwiaXNEaXJlY3RvcnkiLCJuYW1lIiwic3RhcnRzV2l0aCIsImlzRmlsZSIsInBhdGgiLCJpc0Fuc2lGaWxlIiwiYnVmZmVyIiwiQnVmZmVyIiwiYWxsb2MiLCJieXRlc1JlYWQiLCJyZWFkIiwiYXJyYXkiLCJVaW50OEFycmF5IiwiZXJyIiwiY2xvc2UiXSwic291cmNlcyI6WyJGaWxlTGlzdC5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVhZGRpciwgb3BlbiB9IGZyb20gJ2ZzL3Byb21pc2VzJztcbmltcG9ydCB7IGJhc2VuYW1lLCBub3JtYWxpemUgfSBmcm9tICdwYXRoJztcbmltcG9ydCB7IHVzZVByb2dyZXNzaXZlIH0gZnJvbSAncmVhY3Qtc2VxJztcbmltcG9ydCB7IHVzZUZvY3VzLCBCb3gsIFRleHQgfSBmcm9tICdpbmsnO1xuaW1wb3J0IE11bHRpY29sdW1uU2VsZWN0SW5wdXQgZnJvbSAnLi9NdWx0aWNvbHVtblNlbGVjdElucHV0LmpzeCc7XG5pbXBvcnQgSW5rU3Bpbm5lciBmcm9tICdpbmstc3Bpbm5lcic7IGNvbnN0IHsgZGVmYXVsdDogU3Bpbm5lciB9ID0gSW5rU3Bpbm5lcjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmlsZUxpc3QoeyBmb2xkZXIgPSAnLicsIHNlbGVjdGVkID0gJycsIG9uRmlsZVNlbGVjdCwgb25Gb2xkZXJTZWxlY3QgfSkge1xuICByZXR1cm4gdXNlUHJvZ3Jlc3NpdmUoYXN5bmMgKHsgZmFsbGJhY2ssIHR5cGUsIHVzYWJsZSwgZGVmZXIgfSkgPT4ge1xuICAgIGZhbGxiYWNrKDxMb2FkaW5nU2NyZWVuIC8+KTtcbiAgICB0eXBlKEZpbGVMaXN0VUkpO1xuICAgIHVzYWJsZSg1KTtcbiAgICBkZWZlcigxMDApO1xuICAgIHJldHVybiB7XG4gICAgICBmb2xkZXJzOiBmaW5kU3ViZm9sZGVyKGZvbGRlciksXG4gICAgICBmaWxlczogZmluZEFuc2lGaWxlcyhmb2xkZXIpLFxuICAgICAgc2VsZWN0ZWQsXG4gICAgICBvbkZpbGVTZWxlY3QsIFxuICAgICAgb25Gb2xkZXJTZWxlY3QsXG4gICAgfTtcbiAgfSwgWyBmb2xkZXIgXSk7XG59XG5cbi8vIHR5cGljYWwgQU5TSSBmaWxlcyBhcmUgNzl4MjRcbmNvbnN0IHdpZHRoID0gODE7XG5jb25zdCBoZWlnaHQgPSAyNjtcbmNvbnN0IGJvcmRlclN0eWxlID0gJ3JvdW5kJztcblxuZnVuY3Rpb24gRmlsZUxpc3RVSSh7IGZvbGRlcnMgPSBbXSwgZmlsZXMgPSBbXSwgc2VsZWN0ZWQsIG9uRmlsZVNlbGVjdCwgb25Gb2xkZXJTZWxlY3QgfSkge1xuICBjb25zdCB7IGlzRm9jdXNlZCB9ID0gdXNlRm9jdXMoeyBpZDogJ21haW4nLCBhdXRvRm9jdXM6IHRydWUgfSk7XG4gIGNvbnN0IGl0ZW1zID0gW107XG4gIGZvciAoY29uc3QgZm9sZGVyIG9mIGZvbGRlcnMpIHtcbiAgICBpdGVtcy5wdXNoKHsgbGFiZWw6ICdcXHV7MUY1QzB9ICcgKyBiYXNlbmFtZShmb2xkZXIpLCB2YWx1ZTogZm9sZGVyLCB0eXBlOiAnZm9sZGVyJyB9KVxuICB9XG4gIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuICAgIGl0ZW1zLnB1c2goeyBsYWJlbDogJ1xcdXsxRjVDRn0gJyArIGJhc2VuYW1lKGZpbGUpLCB2YWx1ZTogZmlsZSwgdHlwZTogJ2ZpbGUnIH0pXG4gIH1cbiAgLy8gZW5zdXJlIHRoYXQgY29sdW1ucyBhcmUgd2lkZSBlbm91Z2ggZm9yIHRoZSBsb25nZXN0IGZpbGVuYW1lXG4gIGNvbnN0IG1heFdpZHRoID0gaXRlbXMucmVkdWNlKChtLCBpKSA9PiBtID0gTWF0aC5tYXgobSwgaS5sYWJlbC5sZW5ndGgpLCAwKTtcbiAgY29uc3QgY29sdW1uQ291bnQgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKDgwIC8gKG1heFdpZHRoICsgMikpKTtcbiAgY29uc3QgbGltaXQgPSBoZWlnaHQgLSAyO1xuICBjb25zdCBpbml0aWFsSW5kZXggPSBNYXRoLm1heCgwLCBpdGVtcy5maW5kSW5kZXgoaSA9PiBpLnZhbHVlID09PSBzZWxlY3RlZCkpO1xuICBjb25zdCBib3JkZXJDb2xvciA9IChpc0ZvY3VzZWQpID8gJ2JsdWUnIDogdW5kZWZpbmVkO1xuICBjb25zdCBvblNlbGVjdCA9ICh7IHZhbHVlLCB0eXBlIH0pID0+IHtcbiAgICBpZiAodHlwZSA9PT0gJ2ZvbGRlcicpIHtcbiAgICAgIG9uRm9sZGVyU2VsZWN0Py4odmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICBvbkZpbGVTZWxlY3Q/Lih2YWx1ZSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gKFxuICAgIDxCb3ggey4uLnsgYm9yZGVyU3R5bGUsIGJvcmRlckNvbG9yLCB3aWR0aCB9fT5cbiAgICAgIDxNdWx0aWNvbHVtblNlbGVjdElucHV0IHsuLi57IGl0ZW1zLCBsaW1pdCwgY29sdW1uQ291bnQsIGlzRm9jdXNlZCwgaW5pdGlhbEluZGV4LCBvblNlbGVjdCB9fSAvPlxuICAgIDwvQm94PlxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTG9hZGluZ1NjcmVlbigpIHtcbiAgY29uc3QgYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xuICBjb25zdCBqdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICByZXR1cm4gKFxuICAgIDxCb3ggey4uLnsgYm9yZGVyU3R5bGUsIHdpZHRoLCBoZWlnaHQsIGFsaWduSXRlbXMsIGp1c3RpZnlDb250ZW50IH19PlxuICAgICAgPFRleHQ+IDxTcGlubmVyIC8+IExvYWRpbmc8L1RleHQ+XG4gICAgPC9Cb3g+XG4gICk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uKiBmaW5kU3ViZm9sZGVyKGZvbGRlcikge1xuICBjb25zdCBsaXN0ID0gYXdhaXQgcmVhZGRpcihmb2xkZXIsIHsgd2l0aEZpbGVUeXBlczogdHJ1ZSB9KTtcbiAgeWllbGQgbm9ybWFsaXplKGAke2ZvbGRlcn0vLi5gKTtcbiAgZm9yIChjb25zdCBlbnRyeSBvZiBsaXN0KSB7XG4gICAgaWYgKGVudHJ5LmlzRGlyZWN0b3J5KCkgJiYgIWVudHJ5Lm5hbWUuc3RhcnRzV2l0aCgnLicpKSB7XG4gICAgICB5aWVsZCBgJHtmb2xkZXJ9LyR7ZW50cnkubmFtZX1gO1xuICAgIH1cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiogZmluZEFuc2lGaWxlcyhmb2xkZXIpIHtcbiAgY29uc3QgbGlzdCA9IGF3YWl0IHJlYWRkaXIoZm9sZGVyLCB7IHdpdGhGaWxlVHlwZXM6IHRydWUgfSk7XG4gIGZvciAoY29uc3QgZW50cnkgb2YgbGlzdCkge1xuICAgIGlmIChlbnRyeS5pc0ZpbGUoKSAmJiAhZW50cnkubmFtZS5zdGFydHNXaXRoKCcuJykpIHtcbiAgICAgIGNvbnN0IHBhdGggPSBgJHtmb2xkZXJ9LyR7ZW50cnkubmFtZX1gO1xuICAgICAgaWYgKGF3YWl0IGlzQW5zaUZpbGUocGF0aCkpIHtcbiAgICAgICAgeWllbGQgcGF0aDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzQW5zaUZpbGUocGF0aCkge1xuICBsZXQgZmlsZTtcbiAgdHJ5IHtcbiAgICBmaWxlID0gYXdhaXQgb3BlbihwYXRoKTtcbiAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuYWxsb2MoMTAyNCk7XG4gICAgY29uc3QgeyBieXRlc1JlYWQgfSA9IGF3YWl0IGZpbGUucmVhZChidWZmZXIsIDAsIGJ1ZmZlci5sZW5ndGgpO1xuICAgIGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLCAwLCBieXRlc1JlYWQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBpZiAoYXJyYXlbaV0gPT09IDB4MUIgJiYgYXJyYXlbaSArIDFdID09PSAweDVCKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgZmlsZT8uY2xvc2UoKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59Il0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxPQUFPLEVBQUVDLElBQUksUUFBUSxhQUFhO0FBQzNDLFNBQVNDLFFBQVEsRUFBRUMsU0FBUyxRQUFRLE1BQU07QUFDMUMsU0FBU0MsY0FBYyxRQUFRLFdBQVc7QUFDMUMsU0FBU0MsUUFBUSxFQUFFQyxHQUFHLEVBQUVDLElBQUksUUFBUSxLQUFLO0FBQ3pDLE9BQU9DLHNCQUFzQjtBQUM3QixPQUFPQyxVQUFVLE1BQU0sYUFBYTtBQUFDO0FBQUE7QUFBQyxNQUFNO0VBQUVDLE9BQU8sRUFBRUM7QUFBUSxDQUFDLEdBQUdGLFVBQVU7QUFFN0UsZUFBZSxTQUFTRyxRQUFRLENBQUM7RUFBRUMsTUFBTSxHQUFHLEdBQUc7RUFBRUMsUUFBUSxHQUFHLEVBQUU7RUFBRUMsWUFBWTtFQUFFQztBQUFlLENBQUMsRUFBRTtFQUM5RixPQUFPWixjQUFjLENBQUMsT0FBTztJQUFFYSxRQUFRO0lBQUVDLElBQUk7SUFBRUMsTUFBTTtJQUFFQztFQUFNLENBQUMsS0FBSztJQUNqRUgsUUFBUSxlQUFDLEtBQUMsYUFBYSxLQUFHLENBQUM7SUFDM0JDLElBQUksQ0FBQ0csVUFBVSxDQUFDO0lBQ2hCRixNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ1RDLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFDVixPQUFPO01BQ0xFLE9BQU8sRUFBRUMsYUFBYSxDQUFDVixNQUFNLENBQUM7TUFDOUJXLEtBQUssRUFBRUMsYUFBYSxDQUFDWixNQUFNLENBQUM7TUFDNUJDLFFBQVE7TUFDUkMsWUFBWTtNQUNaQztJQUNGLENBQUM7RUFDSCxDQUFDLEVBQUUsQ0FBRUgsTUFBTSxDQUFFLENBQUM7QUFDaEI7O0FBRUE7QUFDQSxNQUFNYSxLQUFLLEdBQUcsRUFBRTtBQUNoQixNQUFNQyxNQUFNLEdBQUcsRUFBRTtBQUNqQixNQUFNQyxXQUFXLEdBQUcsT0FBTztBQUUzQixTQUFTUCxVQUFVLENBQUM7RUFBRUMsT0FBTyxHQUFHLEVBQUU7RUFBRUUsS0FBSyxHQUFHLEVBQUU7RUFBRVYsUUFBUTtFQUFFQyxZQUFZO0VBQUVDO0FBQWUsQ0FBQyxFQUFFO0VBQ3hGLE1BQU07SUFBRWE7RUFBVSxDQUFDLEdBQUd4QixRQUFRLENBQUM7SUFBRXlCLEVBQUUsRUFBRSxNQUFNO0lBQUVDLFNBQVMsRUFBRTtFQUFLLENBQUMsQ0FBQztFQUMvRCxNQUFNQyxLQUFLLEdBQUcsRUFBRTtFQUNoQixLQUFLLE1BQU1uQixNQUFNLElBQUlTLE9BQU8sRUFBRTtJQUM1QlUsS0FBSyxDQUFDQyxJQUFJLENBQUM7TUFBRUMsS0FBSyxFQUFFLFlBQVksR0FBR2hDLFFBQVEsQ0FBQ1csTUFBTSxDQUFDO01BQUVzQixLQUFLLEVBQUV0QixNQUFNO01BQUVLLElBQUksRUFBRTtJQUFTLENBQUMsQ0FBQztFQUN2RjtFQUNBLEtBQUssTUFBTWtCLElBQUksSUFBSVosS0FBSyxFQUFFO0lBQ3hCUSxLQUFLLENBQUNDLElBQUksQ0FBQztNQUFFQyxLQUFLLEVBQUUsWUFBWSxHQUFHaEMsUUFBUSxDQUFDa0MsSUFBSSxDQUFDO01BQUVELEtBQUssRUFBRUMsSUFBSTtNQUFFbEIsSUFBSSxFQUFFO0lBQU8sQ0FBQyxDQUFDO0VBQ2pGO0VBQ0E7RUFDQSxNQUFNbUIsUUFBUSxHQUFHTCxLQUFLLENBQUNNLE1BQU0sQ0FBQyxDQUFDQyxDQUFDLEVBQUVDLENBQUMsS0FBS0QsQ0FBQyxHQUFHRSxJQUFJLENBQUNDLEdBQUcsQ0FBQ0gsQ0FBQyxFQUFFQyxDQUFDLENBQUNOLEtBQUssQ0FBQ1MsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0VBQzNFLE1BQU1DLFdBQVcsR0FBR0gsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxFQUFFRCxJQUFJLENBQUNJLEtBQUssQ0FBQyxFQUFFLElBQUlSLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ2hFLE1BQU1TLEtBQUssR0FBR25CLE1BQU0sR0FBRyxDQUFDO0VBQ3hCLE1BQU1vQixZQUFZLEdBQUdOLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsRUFBRVYsS0FBSyxDQUFDZ0IsU0FBUyxDQUFDUixDQUFDLElBQUlBLENBQUMsQ0FBQ0wsS0FBSyxLQUFLckIsUUFBUSxDQUFDLENBQUM7RUFDNUUsTUFBTW1DLFdBQVcsR0FBSXBCLFNBQVMsR0FBSSxNQUFNLEdBQUdxQixTQUFTO0VBQ3BELE1BQU1DLFFBQVEsR0FBRyxDQUFDO0lBQUVoQixLQUFLO0lBQUVqQjtFQUFLLENBQUMsS0FBSztJQUNwQyxJQUFJQSxJQUFJLEtBQUssUUFBUSxFQUFFO01BQ3JCRixjQUFjLEdBQUdtQixLQUFLLENBQUM7SUFDekIsQ0FBQyxNQUFNLElBQUlqQixJQUFJLEtBQUssTUFBTSxFQUFFO01BQzFCSCxZQUFZLEdBQUdvQixLQUFLLENBQUM7SUFDdkI7RUFDRixDQUFDO0VBQ0Qsb0JBQ0UsS0FBQyxHQUFHO0lBQU9QLFdBQVc7SUFBRXFCLFdBQVc7SUFBRXZCLEtBQUs7SUFBQSx1QkFDeEMsS0FBQyxzQkFBc0I7TUFBT00sS0FBSztNQUFFYyxLQUFLO01BQUVGLFdBQVc7TUFBRWYsU0FBUztNQUFFa0IsWUFBWTtNQUFFSTtJQUFRO0VBQU0sRUFDNUY7QUFFVjtBQUVBLE9BQU8sU0FBU0MsYUFBYSxHQUFHO0VBQzlCLE1BQU1DLFVBQVUsR0FBRyxRQUFRO0VBQzNCLE1BQU1DLGNBQWMsR0FBRyxRQUFRO0VBQy9CLG9CQUNFLEtBQUMsR0FBRztJQUFPMUIsV0FBVztJQUFFRixLQUFLO0lBQUVDLE1BQU07SUFBRTBCLFVBQVU7SUFBRUMsY0FBYztJQUFBLHVCQUMvRCxNQUFDLElBQUk7TUFBQSxXQUFDLEdBQUMsb0JBQUMsT0FBTyxLQUFHLFlBQVE7SUFBQTtFQUFPLEVBQzdCO0FBRVY7QUFFQSxnQkFBZ0IvQixhQUFhLENBQUNWLE1BQU0sRUFBRTtFQUNwQyxNQUFNMEMsSUFBSSxHQUFHLE1BQU12RCxPQUFPLENBQUNhLE1BQU0sRUFBRTtJQUFFMkMsYUFBYSxFQUFFO0VBQUssQ0FBQyxDQUFDO0VBQzNELE1BQU1yRCxTQUFTLENBQUUsR0FBRVUsTUFBTyxLQUFJLENBQUM7RUFDL0IsS0FBSyxNQUFNNEMsS0FBSyxJQUFJRixJQUFJLEVBQUU7SUFDeEIsSUFBSUUsS0FBSyxDQUFDQyxXQUFXLEVBQUUsSUFBSSxDQUFDRCxLQUFLLENBQUNFLElBQUksQ0FBQ0MsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFO01BQ3RELE1BQU8sR0FBRS9DLE1BQU8sSUFBRzRDLEtBQUssQ0FBQ0UsSUFBSyxFQUFDO0lBQ2pDO0VBQ0Y7QUFDRjtBQUVBLGdCQUFnQmxDLGFBQWEsQ0FBQ1osTUFBTSxFQUFFO0VBQ3BDLE1BQU0wQyxJQUFJLEdBQUcsTUFBTXZELE9BQU8sQ0FBQ2EsTUFBTSxFQUFFO0lBQUUyQyxhQUFhLEVBQUU7RUFBSyxDQUFDLENBQUM7RUFDM0QsS0FBSyxNQUFNQyxLQUFLLElBQUlGLElBQUksRUFBRTtJQUN4QixJQUFJRSxLQUFLLENBQUNJLE1BQU0sRUFBRSxJQUFJLENBQUNKLEtBQUssQ0FBQ0UsSUFBSSxDQUFDQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7TUFDakQsTUFBTUUsSUFBSSxHQUFJLEdBQUVqRCxNQUFPLElBQUc0QyxLQUFLLENBQUNFLElBQUssRUFBQztNQUN0QyxJQUFJLE1BQU1JLFVBQVUsQ0FBQ0QsSUFBSSxDQUFDLEVBQUU7UUFDMUIsTUFBTUEsSUFBSTtNQUNaO0lBQ0Y7RUFDRjtBQUNGO0FBRUEsT0FBTyxlQUFlQyxVQUFVLENBQUNELElBQUksRUFBRTtFQUNyQyxJQUFJMUIsSUFBSTtFQUNSLElBQUk7SUFDRkEsSUFBSSxHQUFHLE1BQU1uQyxJQUFJLENBQUM2RCxJQUFJLENBQUM7SUFDdkIsTUFBTUUsTUFBTSxHQUFHQyxNQUFNLENBQUNDLEtBQUssQ0FBQyxJQUFJLENBQUM7SUFDakMsTUFBTTtNQUFFQztJQUFVLENBQUMsR0FBRyxNQUFNL0IsSUFBSSxDQUFDZ0MsSUFBSSxDQUFDSixNQUFNLEVBQUUsQ0FBQyxFQUFFQSxNQUFNLENBQUNyQixNQUFNLENBQUM7SUFDL0QsTUFBTTBCLEtBQUssR0FBRyxJQUFJQyxVQUFVLENBQUNOLE1BQU0sRUFBRSxDQUFDLEVBQUVHLFNBQVMsQ0FBQztJQUNsRCxLQUFLLElBQUkzQixDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUc2QixLQUFLLENBQUMxQixNQUFNLEdBQUcsQ0FBQyxFQUFFSCxDQUFDLEVBQUUsRUFBRTtNQUN6QyxJQUFJNkIsS0FBSyxDQUFDN0IsQ0FBQyxDQUFDLEtBQUssSUFBSSxJQUFJNkIsS0FBSyxDQUFDN0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLElBQUksRUFBRTtRQUM5QyxPQUFPLElBQUk7TUFDYjtJQUNGO0VBQ0YsQ0FBQyxDQUFDLE9BQU8rQixHQUFHLEVBQUUsQ0FDZCxDQUFDLFNBQVM7SUFDUixNQUFNbkMsSUFBSSxFQUFFb0MsS0FBSyxFQUFFO0VBQ3JCO0VBQ0EsT0FBTyxLQUFLO0FBQ2QifQ==